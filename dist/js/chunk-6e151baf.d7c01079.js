(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e151baf"],{"159b":function(t,e,a){var r=a("da84"),i=a("fdbc"),o=a("17c2"),s=a("9112");for(var n in i){var c=r[n],l=c&&c.prototype;if(l&&l.forEach!==o)try{s(l,"forEach",o)}catch(d){l.forEach=o}}},"17c2":function(t,e,a){"use strict";var r=a("b727").forEach,i=a("a640"),o=a("ae40"),s=i("forEach"),n=o("forEach");t.exports=s&&n?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,a){"use strict";var r=a("23e7"),i=a("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),i=a("5899"),o="["+i+"]",s=RegExp("^"+o+o+"*"),n=RegExp(o+o+"*$"),c=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(s,"")),2&t&&(a=a.replace(n,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},6438:function(t,e,a){},"9d57":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"orderitem"},[a("div",{staticClass:"order-img"},[a("img",{attrs:{src:t.product.small_img||t.product.smallImg,alt:""}})]),a("div",{staticClass:"order-info"},[a("div",{staticClass:"order-name"},[a("div",{staticClass:"order-name-left"},[t._v(t._s(t.product.name))]),a("div",{staticClass:"order-price"},[t._v("￥"+t._s(t.product.price*t.product.count))])]),a("div",{staticClass:"order-rules"},[t._v(t._s(t.product.rule))]),a("div",{staticClass:"order-num"},[t._v("x"+t._s(t.product.count))])])])},i=[],o=(a("e1e1"),{props:{product:{type:Object,default:function(){return{}}}}}),s=o,n=a("2877"),c=Object(n["a"])(s,r,i,!1,null,null,null);e["a"]=c.exports},a434:function(t,e,a){"use strict";var r=a("23e7"),i=a("23cb"),o=a("a691"),s=a("50c4"),n=a("7b0b"),c=a("65f0"),l=a("8418"),d=a("1dde"),u=a("ae40"),f=d("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,v=Math.min,g=9007199254740991,m="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,e){var a,r,d,u,f,p,b=n(this),y=s(b.length),C=i(t,y),k=arguments.length;if(0===k?a=r=0:1===k?(a=0,r=y-C):(a=k-2,r=v(h(o(e),0),y-C)),y+a-r>g)throw TypeError(m);for(d=c(b,r),u=0;u<r;u++)f=C+u,f in b&&l(d,u,b[f]);if(d.length=r,a<r){for(u=C;u<y-r;u++)f=u+r,p=u+a,f in b?b[p]=b[f]:delete b[p];for(u=y;u>y-r+a;u--)delete b[u-1]}else if(a>r)for(u=y-r;u>C;u--)f=u+r-1,p=u+a-1,f in b?b[p]=b[f]:delete b[p];for(u=0;u<a;u++)b[u+C]=arguments[u+2];return b.length=y-r+a,d}})},a640:function(t,e,a){"use strict";var r=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&r((function(){a.call(null,e||function(){throw 1},1)}))}},a9e3:function(t,e,a){"use strict";var r=a("83ab"),i=a("da84"),o=a("94ca"),s=a("6eeb"),n=a("5135"),c=a("c6b6"),l=a("7156"),d=a("c04e"),u=a("d039"),f=a("7c73"),p=a("241c").f,h=a("06cf").f,v=a("9bf2").f,g=a("58a8").trim,m="Number",b=i[m],y=b.prototype,C=c(f(y))==m,k=function(t){var e,a,r,i,o,s,n,c,l=d(t,!1);if("string"==typeof l&&l.length>2)if(l=g(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(o=l.slice(2),s=o.length,n=0;n<s;n++)if(c=o.charCodeAt(n),c<48||c>i)return NaN;return parseInt(o,r)}return+l};if(o(m,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var _,S=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof S&&(C?u((function(){y.valueOf.call(a)})):c(a)!=m)?l(new b(k(e)),a,S):k(e)},x=r?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),E=0;x.length>E;E++)n(b,_=x[E])&&!n(S,_)&&v(S,_,h(b,_));S.prototype=y,y.constructor=S,s(i,m,S)}},bbc5:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pay-boxing"},[a("div",[t._t("pay-title",[a("div",{staticClass:"pay-title"},[t._v("订单信息")])])],2),a("div",{staticClass:"pay-middle"},[t._t("order-name")],2),a("div",{staticClass:"pay-foot"},[a("div",{staticClass:"pay-line"},[t.date?a("div",{staticClass:"pay-top"},[t._v(t._s(t._f("formatDate")(t.date,"yyyy-MM-dd hh:mm:ss")))]):t._e(),a("div",{staticClass:"pay-bottom"},[a("div",{staticClass:"pay-bottom-left"},[t._v("共计 "+t._s(t.total)+" 件")]),a("div",{staticClass:"pay-bottom-right"},[t._v("合计 ￥ "+t._s(t.totalPrice))])])])])])},i=[],o=(a("a9e3"),a("6438"),{props:{total:{type:[Number,String],default:0},totalPrice:{},date:""}}),s=o,n=a("2877"),c=Object(n["a"])(s,r,i,!1,null,null,null);e["a"]=c.exports},be7a:function(t,e,a){},c975:function(t,e,a){"use strict";var r=a("23e7"),i=a("4d64").indexOf,o=a("a640"),s=a("ae40"),n=[].indexOf,c=!!n&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),d=s("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!l||!d},{indexOf:function(t){return c?n.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},cf2a:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},[a("van-nav-bar",{attrs:{title:"我的订单","left-arrow":"",color:"black"},on:{"click-left":t.back}}),a("div",{staticClass:"bg"}),a("div",{staticClass:"order-nav"},[a("van-tabs",{attrs:{swipeable:"","line-height":"2px",color:"#D0563F","title-active-color":"#D0563F"},on:{change:t.changeState},model:{value:t.activedata,callback:function(e){t.activedata=e},expression:"activedata"}},t._l(t.tabs,(function(e,r){return a("van-tab",{key:r,attrs:{title:e.title}},[a("div",{staticClass:"tab-item"},[t.orderData.length>0?a("div",t._l(t.orderData,(function(e,r){return a("div",{key:r,staticClass:"tab-box"},[a("PayBox",{attrs:{total:t.orderData[r].count,totalPrice:t.orderData[r].total,date:t.orderData[r].date},scopedSlots:t._u([{key:"pay-title",fn:function(){return[a("div",{staticClass:"pay-title-box"},[a("div",{staticClass:"pay-t"},[t._v("NO1613785881316")]),2===t.orderData[r].status?a("div",{staticClass:"pay-s"},[a("div",{staticClass:"pay-text"},[t._v("已完成")]),a("div",{staticClass:"pay-icon"},[a("van-icon",{attrs:{name:"delete-o"},on:{click:function(a){return t.deleteOrder(e.oid,r)}}})],1)]):t._e(),1===t.orderData[r].status?a("div",{staticClass:"pay-s"},[a("div",{staticClass:"pay-text",on:{click:function(a){return t.confirmOrder(e,r)}}},[t._v(" 确认订单 ")])]):t._e()])]},proxy:!0},{key:"order-name",fn:function(){return t._l(e.data,(function(t,e){return a("OrderItem",{key:e,attrs:{product:t}})}))},proxy:!0}],null,!0)})],1)})),0):a("div",[a("van-empty",{attrs:{description:"没有已完成订单"}})],1)])])})),1)],1)],1)},i=[],o=(a("4160"),a("c975"),a("a434"),a("159b"),a("be7a"),a("bbc5")),s=a("9d57"),n={name:"Order",data:function(){return{activedata:0,tabs:[{title:"全部订单",status:0},{title:"进行中",status:1},{title:"已完成",status:2}],orderData:[]}},components:{PayBox:o["a"],OrderItem:s["a"]},created:function(){this.getOrderData(0)},methods:{back:function(){this.$router.go(-1)},getOrderData:function(t){var e=this,a=this.$cookie.get("loginToken");if(!a)return this.$router.push("/login");this.$toast.loading({message:"加载中",forbidClick:!0,duration:0}),this.axios({method:"GET",url:this.BaseUrl1+"/findOrder",params:{appkey:this.appkey,tokenString:a,status:t}}).then((function(t){if(console.log(t),e.$toast.clear(),700===t.data.code)return e.$toast({message:t.data.msg,forbidClick:!0,duration:3e3}),e.$router.push("/login");if(7e4===t.data.code){var a=[],r=[];t.data.result.forEach((function(t){if(-1===r.indexOf(t.oid)){var e={oid:t.oid,date:t.updatedAt,status:t.status,count:0,total:0,data:[]};r.push(t.oid),a.push(e)}})),a.forEach((function(e){t.data.result.forEach((function(t){e.oid===t.oid&&(e.data.push(t),e.count+=t.count,e.total+=t.count*t.price)}))})),e.orderData=a}else e.$toast({message:t.data.msg,forbidClick:!0,duration:3e3})})).catch((function(t){e.$toast.clear(),console.log(t)}))},changeState:function(t){this.getOrderData(t)},confirmOrder:function(t,e){var a=this,r=this.$cookie.get("loginToken");if(!r)return this.$router.push("/login");this.$toast.loading({message:"加载中",forbidClick:!0,duration:0}),this.axios({method:"POST",url:this.BaseUrl1+"/receive",data:{appkey:this.appkey,tokenString:r,oid:t.oid}}).then((function(r){if(console.log(r),a.$toast.clear(),700===r.data.code)return a.$toast({message:r.data.msg,forbidClick:!0,duration:3e3}),a.$router.push("/login");8e4===r.data.code&&(t.status=2,1===a.activedata&&a.orderData.splice(e,1)),a.$toast({message:r.data.msg,forbidClick:!0,duration:2e3})})).catch((function(t){a.$toast.clear(),console.log(t)}))},deleteOrder:function(t,e){var a=this,r=this.$cookie.get("loginToken");if(!r)return this.$router.push("/login");this.$toast.loading({message:"加载中",forbidClick:!0,duration:0}),this.axios({method:"POST",url:this.BaseUrl1+"/removeOrder",data:{appkey:this.appkey,tokenString:r,oid:t}}).then((function(t){if(a.$toast.clear(),700===t.data.code)return a.$toast({message:t.data.msg,forbidClick:!0,duration:3e3}),a.$router.push("/login");9e4===t.data.code&&a.orderData.splice(e,1),a.$toast({message:t.data.msg,forbidClick:!0,duration:2e3})})).catch((function(t){a.$toast.clear(),console.log(t)}))}}},c=n,l=a("2877"),d=Object(l["a"])(c,r,i,!1,null,null,null);e["default"]=d.exports},e1e1:function(t,e,a){},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-6e151baf.d7c01079.js.map