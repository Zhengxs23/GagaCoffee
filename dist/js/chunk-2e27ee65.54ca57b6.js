(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e27ee65"],{"277b":function(t,e,o){},"2f14":function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));o("e7e5");var a=o("d399");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function s(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}var r=function(){function t(){i(this,t)}return s(t,[{key:"validForm",value:function(t){for(var e in t)if(!t[e].reg.test(t[e].value))return Object(a["a"])({message:t[e].error,forbidClick:!0}),!1;return!0}}]),t}(),l=new r},"3f6e":function(t,e,o){t.exports=o.p+"img/bg.8895c6f4.png"},bc90:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"safe"},[o("van-nav-bar",{attrs:{title:"安全中心","left-arrow":""},on:{"click-left":t.back}}),t._m(0),o("div",{staticClass:"safe-opt"},[o("div",{staticClass:"safe-changePw"},[o("van-cell",{attrs:{title:"修改密码","is-link":""},on:{click:t.ChangePw}})],1),o("div",{staticClass:"safe-logOut"},[o("van-cell",{attrs:{title:"退出登录","is-link":""},on:{click:t.SignOut}})],1),o("div",{staticClass:"safe-unsubscribe"},[o("van-cell",{attrs:{title:"注销账户","is-link":""},on:{click:t.offCount}})],1)]),o("van-popup",{attrs:{position:"bottom",closeable:""},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[o("div",{staticClass:"changePw"},[o("van-field",{attrs:{label:"旧密码",placeholder:"输入旧密码",type:"password"},model:{value:t.oldPw,callback:function(e){t.oldPw=e},expression:"oldPw"}}),o("van-field",{attrs:{label:"新密码",placeholder:"输入新密码",type:"password"},model:{value:t.newPw,callback:function(e){t.newPw=e},expression:"newPw"}}),o("van-field",{attrs:{label:"确认密码",placeholder:"确认新密码",type:"password"},model:{value:t.confirmPw,callback:function(e){t.confirmPw=e},expression:"confirmPw"}}),o("van-button",{staticClass:"register_btn",attrs:{round:"",type:"default",block:""},on:{click:t.SubmitnewPw}},[t._v("提交修改")])],1)])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"safe_bg"},[a("img",{attrs:{src:o("3f6e"),alt:""}})])}],n=(o("277b"),o("2f14")),s={name:"Safe",data:function(){return{isShow:!1,oldPw:"",newPw:"",confirmPw:""}},methods:{back:function(){this.$router.go(-1)},ChangePw:function(){this.isShow=!0},SubmitnewPw:function(){var t=this,e=this.$cookie.get("loginToken");if(!e)return this.$router.push("/login");this.$toast.loading({message:"加载中",forbidClick:!0,duration:0});var o={newPw:{value:this.newPw,reg:/^[A-Za-z]\w{5,15}$/,error:"密码支持字母数字_组合且首字符必须为字母"},confirmPw:{value:this.confirmPw,reg:/^[A-Za-z]\w{5,15}$/,error:"密码支持字母数字_组合且首字符必须为字母"}};return n["a"].validForm(o)?this.newPw!==this.confirmPw?(this.$toast({message:"两次密码不正确",forbidClick:!0,duration:2e3}),this.oldPw="",this.newPw="",void(this.confirmPw="")):void this.axios({method:"POST",url:this.BaseUrl1+"/updatePassword",data:{appkey:this.appkey,tokenString:e,password:this.confirmPw,oldPassword:this.oldPw}}).then((function(e){return console.log(e),t.$toast.clear(),700===e.data.code?(t.$toast({message:e.data.msg,forbidClick:!0,duration:3e3}),t.$router.push("/login")):("E003"===e.data.code&&(t.$toast({message:e.data.msg,forbidClick:!0,duration:3e3}),t.oldPw="",t.newPw="",t.confirmPw=""),"E001"===e.data.code?(t.$cookie.set("loginToken","","1d"),t.$toast({message:"修改密码成功，请重新登录",forbidClick:!0,duration:2e3}),t.$router.push("/login")):void t.$toast({message:e.data.msg,forbidClick:!0,duration:3e3}))})).catch((function(e){t.$toast.clear(),console.log(e)})):(this.oldPw="",this.newPw="",void(this.confirmPw=""))},SignOut:function(){var t=this;this.$dialog.confirm({title:"退出登录",message:"真的要退出登录吗？？？"}).then((function(){return t.$cookie.set("loginToken","","1d"),t.$toast({message:"退出登录成功",forbidClick:!0,duration:2e3}),t.$router.push("/")})).catch((function(){}))},offCount:function(){var t=this;this.$dialog.confirm({title:"注销账户",message:"真的要注销账户吗？？？"}).then((function(){var e=t.$cookie.get("loginToken");if(!e)return t.$router.push("/login");t.$toast.loading({message:"加载中",forbidClick:!0,duration:0}),t.axios({method:"POST",url:t.BaseUrl1+"/destroyAccount",data:{appkey:t.appkey,tokenString:e}}).then((function(e){if(console.log(e),t.$toast.clear(),700===e.data.code)return t.$toast({message:e.data.msg,forbidClick:!0,duration:3e3}),t.$router.push("/login");"G001"===e.data.code&&(t.$cookie.set("loginToken","","1d"),t.$router.push("/")),t.$toast({message:e.data.msg,forbidClick:!0,duration:3e3})})).catch((function(e){t.$toast.clear(),console.log(e)}))}))}}},r=s,l=o("2877"),c=Object(l["a"])(r,a,i,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2e27ee65.54ca57b6.js.map